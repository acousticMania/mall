<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.mall.admin.user.UserDao">
	<insert id="insertUser" parameterType="map">
		INSERT INTO MBR_MEMBER (
			  USER_ID
			, USER_NAME
			, PASSWD
			, USER_KIND
			, RES_NO
			, HOMEPHONE_NO
			, CELLPHONE_NO
			, ZIPCODE
			, ADDR1
			, ADDR2
			, STATUS
			, EMAIL
			, RECOM_LOGINID
			, USER_LEVEL
			, SELLER_LEVEL
			, SELLER_CREDIT_LEVEL
			, QUESTION
			, ANSWER
			, BIRTHDAY
			, ACCOUNT_NUM
			, CORP_NUM
			, USER_LEVEL_POINT
			, SELLER_LEVEL_POINT
			, SELLER_CREDITLEVEL_POINT
			, ETC_PARAM1
			, ETC_PARAM2
			, ETC_PARAM3
			, ETC_PARAM4
			, ETC_PARAM5
			, REG_DATE
			, CHG_DATE
		)
		SELECT
			 #{USER_ID}
			, #{USER_NAME}
			, #{PASSWD}
			, #{USER_KIND}
			, #{RES_NO}
			, #{HOMEPHONE_NO}
			, #{CELLPHONE_NO}
			, #{ZIPCODE}
			, #{ADDR1}
			, #{ADDR2}
			, 'R'
			, #{EMAIL}
			, #{RECOM_LOGINID}
			, '1'
			, '1'
			, '1'
			, #{QUESTION}
			, #{ANSWER}
			, #{BIRTHDAY}
			, #{ACCOUNT_NUM}
			, #{CORP_NUM}
			, 0
			, 0
			, 0
			, #{ETC_PARAM1}
			, #{ETC_PARAM2}
			, #{ETC_PARAM3}
			, #{ETC_PARAM4}
			, #{ETC_PARAM5}
			, NOW()
			, NOW()
	</insert>
	
	<select id="selectUser" parameterType="string" resultType="Map">
		SELECT
			  EMAIL AS username
			, USER_PWD AS password
			, ENABLED AS enabled
			, AUTHORITY AS authority
		FROM MBR_MEMBER
		WHERE EMAIL = #{username}
	</select>
	<select id="selectUserAll" parameterType="Map" resultType="Map">
		SELECT
			  USER_NM 
			, USER_ID
			, EMAIL
			, GRADE
		FROM MBR_MEMBER
	</select>
	<select id="checkLoginId" parameterType="Map" resultType="Map">
		SELECT 
			USER_ID
		FROM MBR_MEMBER
		WHERE USER_ID = #{LOGIN_ID}	
	</select>
</mapper>